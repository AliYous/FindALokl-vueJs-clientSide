(function(t){function e(e){for(var o,i,s=e[0],c=e[1],l=e[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var o={},n={app:0},r=[];function i(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=o,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(a,o,function(e){return t[e]}.bind(null,o));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var o=a("8a23"),n=a.n(o);n.a},"0955":function(t,e,a){"use strict";var o=a("865c"),n=a.n(o);n.a},"0c62":function(t,e,a){},"0ed3":function(t,e,a){t.exports=a.p+"img/enjoy.c7896909.svg"},"1d1e":function(t,e,a){"use strict";var o=a("6171"),n=a.n(o);n.a},"1ea0":function(t,e,a){},"1eed":function(t,e,a){t.exports=a.p+"img/discuss.b893d3d7.svg"},"2ed9":function(t,e,a){},4805:function(t,e,a){},"4c33":function(t,e,a){},"51f2":function(t,e,a){t.exports=a.p+"img/search.3a7d070c.svg"},"55dd":function(t,e,a){"use strict";var o=a("672f"),n=a.n(o);n.a},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"bus",(function(){return he}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("TheHeaderNavbar"),a("v-content",{staticClass:"content-container"},[a("router-view")],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("v-card",{attrs:{color:"white",height:"8vh",flat:""}},[a("v-toolbar",{staticStyle:{"padding-top":"1rem"},attrs:{flat:"",dense:""}},[a("v-toolbar-title",{staticClass:"logo",on:{click:t.homeRedirect}},[t._v("FindaLokl")]),a("v-spacer"),a("div",{staticClass:"nav-links"},[a("v-btn",{attrs:{text:""}},[t._v(" About this project ")]),t.isLoggedIn?a("v-btn",{attrs:{text:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logout")]):a("span",[a("div",{staticClass:"btn-connect-sign"},[a("v-btn",{staticClass:"btn-connect",attrs:{outlined:""},on:{click:function(e){return e.preventDefault(),t.onConnectClick()}}},[t._v(" Connect ")]),a("v-btn",{staticClass:"btn-sign-up",attrs:{dark:"",color:"#F38633"},on:{click:function(e){return e.preventDefault(),t.onSignUpClick()}}},[t._v(" Sign Up as a local ")])],1)])],1),a("div",{staticClass:"burger"},[a("div",{staticClass:"line"}),a("div",{staticClass:"line"}),a("div",{staticClass:"line"})])],1)],1)],1),a("TheAuthDialog")],1)},s=[],c=a("5530"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"800"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",{staticClass:"container-fluid"},[a("v-card",{staticClass:"mx-auto card",attrs:{"max-width":"700"}},[a("v-icon",{staticClass:"close-cross",attrs:{color:"black"},on:{click:t.closeDialog}},[t._v("mdi-close-circle")]),!t.userExists&&t.registerAsLocal?a("h1",[t._v("Register As Local")]):t._e(),t.userExists||t.registerAsLocal?t._e():a("h1",[t._v("Register")]),t.userExists?a("h1",[t._v("Sign in")]):t._e(),t.error?a("div",{staticClass:"alert alert-danger error"},[t._v(t._s(t.error))]):t._e(),a("form",{staticClass:"form container"},[t.userExists?t._e():a("v-text-field",{staticClass:"text-field",attrs:{required:"",outlined:"",color:"#493E92",rounded:"",label:"First name"},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}}),a("v-text-field",{staticClass:"text-field",attrs:{required:"",outlined:"",color:"#493E92",rounded:"",label:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("v-text-field",{attrs:{required:"",outlined:"",color:"#493E92",rounded:"",label:"Password",type:"password"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSignIn(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t.userExists?t._e():a("v-text-field",{attrs:{required:"",outlined:"",color:"#493E92",rounded:"",label:"Password confirmation",type:"password"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSignUp(e)}},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}}),t.userExists?t._e():a("v-btn",{attrs:{color:"#F38633",loading:t.loading,rounded:"","x-large":"",dark:""},on:{click:t.onSignUp}},[t._v("Register")]),t.userExists?a("v-btn",{attrs:{color:"#F38633",loading:t.loading,rounded:"","x-large":"",dark:""},on:{click:t.onSignIn}},[t._v("Sign in")]):t._e()],1),t.userExists?t._e():a("a",{staticClass:"already-member-text",attrs:{role:"button"},on:{click:t.changeUserExistsBool}},[t._v("Already a member?")]),t.userExists?a("a",{staticClass:"already-member-text",attrs:{role:"button"},on:{click:t.changeUserExistsBool}},[t._v("Create an account")]):t._e()],1)],1)])},u=[],d=(a("96cf"),a("1da1")),f=a("2f62"),m=a("bc3a"),p=a.n(m),v={name:"TheAuthDialog",created:function(){var t=this;he.$on("dialog",(function(e,a,o){t.dialog=e,t.registerAsLocal=a,t.userExists=o}))},data:function(){return{dialog:!1,form:{first_name:"",email:"",password:"",password_confirmation:""},userExists:!0,loading:!1,registerAsLocal:!1,error:null}},methods:Object(c["a"])({},Object(f["b"])(["login","register"]),{onSignIn:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,a=t.form.email,o=t.form.password,e.prev=3,e.next=6,t.login({email:a,password:o});case 6:if(n=e.sent,!n.isLocal||!n.firstTimeVisit){e.next=10;break}return e.next=10,p.a.get("http://localhost:3000/api/locals/user_id/".concat(n._id)).then((function(e){t.$router.push({name:"LocalProfileEdit",params:{local_id:e.data[0]._id}})}));case 10:t.loading=!1,t.dialog=!1,e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),t.loading=!1,console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})))()},onSignUp:function(){var t=this;this.loading=!0;var e={name:this.form.first_name,email:this.form.email,password:this.form.password,isLocal:this.registerAsLocal};this.register(e).then((function(){t.loading=!1,t.userExists=!0}))},changeUserExistsBool:function(){this.userExists=!this.userExists},closeDialog:function(){this.dialog=!1}})},h=v,g=(a("5e80"),a("2877")),b=a("6544"),_=a.n(b),C=a("8336"),y=a("b0af"),x=a("169a"),w=a("132d"),k=a("8654"),L=Object(g["a"])(h,l,u,!1,null,"fbe1ad12",null),S=L.exports;_()(L,{VBtn:C["a"],VCard:y["a"],VDialog:x["a"],VIcon:w["a"],VTextField:k["a"]});var E={name:"TheHeaderNavbar",components:{TheAuthDialog:S},data:function(){return{showAuthDialog:!1,localSignupDialog:!1}},computed:Object(c["a"])({},Object(f["c"])({userLoggedIn:"isLoggedIn"}),{isLoggedIn:function(){return this.userLoggedIn}}),methods:Object(c["a"])({},Object(f["b"])(["logout"]),{homeRedirect:function(){this.$router.push({name:"Home"})},onConnectClick:function(){he.$emit("dialog",!0,!1,!0)},onSignUpClick:function(){this.$router.push({name:"LocalsLandingPage"})}})},P=E,O=(a("1d1e"),a("2fa4")),$=a("71d9"),j=a("2a7f"),I=Object(g["a"])(P,i,s,!1,null,"38d67e76",null),V=I.exports;_()(I,{VBtn:C["a"],VCard:y["a"],VSpacer:O["a"],VToolbar:$["a"],VToolbarTitle:j["a"]});var A={name:"App",components:{TheHeaderNavbar:V},data:function(){return{}}},T=A,R=(a("034f"),a("7496")),q=a("a75b"),D=Object(g["a"])(T,n,r,!1,null,null,null),H=D.exports;_()(D,{VApp:R["a"],VContent:q["a"]});var B=a("8c4f"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("TheHeaderImgAndSearch",{attrs:{minified:!1}}),a("div",{staticClass:"how-it-works-container"},[a("HowItWorks")],1)],1)},U=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-header",class:{"container-header-minified":t.minify}},[a("div",{staticClass:"header-search"},[t.minify?t._e():a("h1",[t._v("Find a Lokl")]),t.minify?t._e():a("h3",[t._v("To show you around")]),a("TheSearchBar")],1)])},W=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-container"},[a("v-text-field",{staticClass:"text-field",attrs:{label:"Where next?",rounded:"",solo:"","prepend-inner-icon":"mdi-map-search-outline"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.browseLocals(t.city)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{staticClass:"ma-0",staticStyle:{left:"5rem"},attrs:{dark:"",rounded:"","x-large":"",color:"#F38633"},on:{click:function(e){return t.browseLocals(t.city)}}},[t._v(" Browse locals ")])]},proxy:!0}]),model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1)},N=[],Y={components:{},data:function(){return{city:this.$store.state.citySearched||"",loading:!1}},methods:{getCity:function(t){this.city=t,console.log(t)},browseLocals:function(t){this.loading=!0,this.$router.push({name:"BrowseLocals",params:{city:t}})}}},J=Y,G=(a("f9e9"),Object(g["a"])(J,z,N,!1,null,"6d5af156",null)),K=G.exports;_()(G,{VBtn:C["a"],VTextField:k["a"]});var Q={name:"TheHeaderImgAndSearch",props:["minified"],data:function(){return{minify:this.$props.minified}},components:{TheSearchBar:K}},X=Q,Z=(a("eb60"),Object(g["a"])(X,M,W,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"mx-auto main-card",attrs:{"max-width":"65%",raised:""}},[o("v-list-item",[o("v-list-item-content",[o("v-list-item-title",{staticClass:"headline"},[t._v("How it works ?")])],1)],1),o("div",{staticClass:"steps"},[o("div",{staticClass:"individual-step"},[o("img",{attrs:{src:a("51f2"),alt:""}}),o("h5",{staticClass:"margin-top"},[t._v("Browse locals. Find the one you like")])]),o("div",{staticClass:"individual-step"},[o("img",{attrs:{src:a("1eed"),alt:""}}),o("h5",[t._v("Plan and discuss activities before you meet")])]),o("div",{staticClass:"individual-step"},[o("img",{attrs:{src:a("0ed3"),alt:""}}),o("h5",{staticClass:"margin-top"},[t._v("Witness the city through the eyes of a local")])])])],1)},at=[],ot={name:"HowItWorks"},nt=ot,rt=(a("e13d"),a("da13")),it=a("5d23"),st=Object(g["a"])(nt,et,at,!1,null,"668dca89",null),ct=st.exports;_()(st,{VCard:y["a"],VListItem:rt["a"],VListItemContent:it["a"],VListItemTitle:it["b"]});var lt={name:"Home",components:{TheHeaderImgAndSearch:tt,HowItWorks:ct}},ut=lt,dt=(a("6eef"),Object(g["a"])(ut,F,U,!1,null,"7c69348e",null)),ft=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("TheHeaderImgAndSearch",{attrs:{minified:!0}}),a("div",{staticClass:"top-text"},[a("h4",[t._v(" Explore "),a("u",[t._v(t._s(t.lastSearchInput))]),t._v(", with one of 722 Locals ")])]),a("LocalPreviewList")],1)},pt=[],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"local-previews-list container-fluid"},t._l(t.browseLocalsList,(function(t){return a("div",{key:t._id,staticClass:"local-previews-row row"},[a("LocalPreviewItem",{attrs:{localPreview:t}})],1)})),0)])},ht=[],gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-5 main",on:{click:function(e){return e.preventDefault(),t.onPreviewClick(t.localPreview.local_id)}}},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-horizontal"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"local-info"},[a("div",{staticClass:"city-profile"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.localPreview.name))]),a("h6",{staticClass:"city-name"},[t._v(t._s(t.localPreview.city))])]),a("h5",{staticClass:"price"},[t._v("€"+t._s(t.localPreview.hourlyRate)+"/h")])]),a("p",{staticClass:"card-text"},[t._v(t._s(t.localPreview.quote))])])])])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img-square-wrapper"},[a("img",{attrs:{src:"http://via.placeholder.com/200x200",alt:"Card image cap"}})])}],_t={name:"LocalPreviewItem",props:["localPreview"],methods:{onPreviewClick:function(t){this.$router.push({name:"LocalProfilePage",params:{local_id:t}})}}},Ct=_t,yt=(a("f0ec"),Object(g["a"])(Ct,gt,bt,!1,null,"4bb67e26",null)),xt=yt.exports,wt={name:"LocalPreviewList",components:{LocalPreviewItem:xt},computed:{lastSearchInput:function(){return this.$store.getters.citySearched},browseLocalsList:function(){return this.$store.getters.lastLoadedLocals}},data:function(){return{}}},kt=wt,Lt=(a("650b"),Object(g["a"])(kt,vt,ht,!1,null,"09dd0e6a",null)),St=Lt.exports,Et={name:"BrowseLocals",props:["city"],components:{TheHeaderImgAndSearch:tt,LocalPreviewList:St},computed:{lastSearchInput:function(){return this.$store.getters.citySearched},browseLocalsList:function(){return this.$store.getters.lastLoadedLocals}},created:function(){this.fetchLocalPreviews(this.city)},data:function(){return{}},methods:Object(c["a"])({},Object(f["b"])(["fetchLocalPreviews"]))},Pt=Et,Ot=(a("55dd"),Object(g["a"])(Pt,mt,pt,!1,null,"2c2e067e",null)),$t=Ot.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"container-header"},[a("h1",[t._v("Sign up as a Lokl")]),a("h2",[t._v("Show travellers around and make money")]),a("v-btn",{staticClass:"btn-sign-up",attrs:{dark:"","x-large":"",color:"#F38633"},on:{click:function(e){return e.preventDefault(),t.onSignUpClick()}}},[t._v(" Sign Up as a local ")])],1),a("div",{staticClass:"container-fluid"},[a("v-card",{staticClass:"mx-auto main-card",attrs:{"max-width":"60%",raised:""}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline"},[t._v("Become a Lokl")]),a("p",[t._v("Anyone can do it!")])],1)],1)],1)],1)])},It=[],Vt={name:"LocalsLandingPage",methods:{onSignUpClick:function(){he.$emit("dialog",!0,!0,!1)}}},At=Vt,Tt=(a("bf30"),Object(g["a"])(At,jt,It,!1,null,"d8e9200e",null)),Rt=Tt.exports;_()(Tt,{VBtn:C["a"],VCard:y["a"],VListItem:rt["a"],VListItemContent:it["a"],VListItemTitle:it["b"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("h1",[t._v("Edit you Local profile")]),a("div",{staticClass:"container main-info-container"},[a("v-card",{staticClass:"mx-auto card",attrs:{"max-width":"100%",raised:""}},[a("div",{staticClass:"card-horizontal"},[a("div",{staticClass:"img-square-wrapper"},[a("img",{attrs:{src:"http://via.placeholder.com/365x365",alt:"Card image cap"}})]),a("div",{staticClass:"card-body"},[a("form",{staticClass:"form container"},[a("v-text-field",{staticClass:"text-field",attrs:{"prepend-inner-icon":"mdi-account-cowboy-hat",required:"",outlined:"",color:"#493E92",rounded:"",label:"First name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),a("div",{staticClass:"search-container"},[a("v-icon",{staticStyle:{left:"0.9rem"}},[t._v("mdi-map-search-outline")]),a("vue-google-autocomplete",{ref:"citySearch",attrs:{id:"map",classname:"form-control autocomplete-bar",placeholder:"Your City",types:"(cities)"},on:{placechanged:t.getCity},model:{value:t.form.localCity,callback:function(e){t.$set(t.form,"localCity",e)},expression:"form.localCity"}})],1),a("div",{staticClass:"quote-section"},[a("v-icon",{staticClass:"opening-quote"},[t._v("mdi-format-quote-open")]),a("v-textarea",{staticClass:"quote-field",attrs:{"prepend-inner-icon":"mdi-comment-quote",label:"Your favorite quote",rows:"2",rounded:"",outlined:"",color:"#493E92"},model:{value:t.form.quote,callback:function(e){t.$set(t.form,"quote",e)},expression:"form.quote"}}),a("v-icon",{staticClass:"closing-quote"},[t._v("mdi-format-quote-close")])],1)],1)])])])],1),a("div",{staticClass:"container profile-info-container"},[a("form",{staticClass:"form container"},[a("h4",[t._v("I will show you ....")]),a("v-textarea",{staticClass:"mx-2",attrs:{"prepend-inner-icon":"mdi-comment",label:"What will the tourists have the chance to enjoy during a tour with you?",rows:"3"},model:{value:t.form.tourDescription,callback:function(e){t.$set(t.form,"tourDescription",e)},expression:"form.tourDescription"}}),a("h4",[t._v("About Me")]),a("v-textarea",{staticClass:"mx-2",attrs:{"prepend-inner-icon":"mdi-comment",label:"Who are you? By letting them know what makes you special, it'll increase your chance of being booked by tourists that are made for you! ",rows:"3"},model:{value:t.form.aboutMe,callback:function(e){t.$set(t.form,"aboutMe",e)},expression:"form.aboutMe"}}),a("h4",[t._v("Your Hourly Rate")]),a("v-text-field",{attrs:{label:"How much do you want to be paid for showind people around your city ?",value:"10.00",prefix:"€",suffix:"per hour"},model:{value:t.form.hourlyRate,callback:function(e){t.$set(t.form,"hourlyRate",e)},expression:"form.hourlyRate"}})],1),a("v-btn",{staticClass:"ma-0 btn-submit",attrs:{dark:"",rounded:"","x-large":"",color:"#F38633",loading:t.loading},on:{click:function(e){return e.preventDefault(),t.onClickSubmit(t.form)}}},[t._v(" Save changes ")])],1)])},Dt=[],Ht=(a("b0c0"),a("0118")),Bt={name:"LocalProfileEdit",props:["local_id"],components:{VueGoogleAutocomplete:Ht["a"]},data:function(){return{loading:!1,form:{name:"",localCity:"",quote:"",tourDescription:"",aboutMe:"",languages:"",hourlyRate:"",profile_isComplete:!0}}},created:function(){this.setLocal(this.local_id)},methods:{setLocal:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,p.a.get("http://localhost:3000/api/locals/id/".concat(t)).then((function(t){var a=t.data[0];e.form.name=a.name,e.form.localCity=a.localCity,e.form.quote=a.quote,e.form.tourDescription=a.tourDescription,e.form.aboutMe=a.aboutMe,e.form.languages=a.languages,e.form.hourlyRate=a.hourlyRate}));case 2:case"end":return a.stop()}}),a)})))()},getCity:function(t){this.form.localCity=t,console.log(t)},onClickSubmit:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,p.a.put("http://localhost:3000/api/locals/id/".concat(e.local_id,"/update"),t).then((function(t){console.log(t.data)}));case 3:case"end":return a.stop()}}),a)})))()}}},Ft=Bt,Ut=(a("0955"),a("a844")),Mt=Object(g["a"])(Ft,qt,Dt,!1,null,null,null),Wt=Mt.exports;_()(Mt,{VBtn:C["a"],VCard:y["a"],VIcon:w["a"],VTextField:k["a"],VTextarea:Ut["a"]});var zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.local?a("LocalProfileHeader",{attrs:{local:t.local}}):t._e()],1)},Nt=[],Yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"container main-info-container"},[a("v-card",{staticClass:"mx-auto card",attrs:{"max-width":"100%"}},[a("div",{staticClass:"card-horizontal"},[a("div",{staticClass:"img-square-wrapper"},[a("img",{attrs:{src:"http://via.placeholder.com/350x350",alt:"Card image cap"}})]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"local-info"},[a("div",{staticClass:"city-profile"},[a("h4",{staticClass:"card-title"},[t._v(t._s(t.local.name))]),a("h6",{staticClass:"city-name"},[t._v(t._s(t.local.localCity))])]),a("h5",{staticClass:"price"},[t._v("€ "+t._s(t.local.hourlyRate)+" /h")])]),a("p",{staticClass:"card-text"},[t._v(t._s(t.local.quote))])])])])],1)])},Jt=[],Gt={name:"LocalProfileHeader",props:["local"]},Kt=Gt,Qt=(a("d6a0"),Object(g["a"])(Kt,Yt,Jt,!1,null,null,null)),Xt=Qt.exports;_()(Qt,{VCard:y["a"]});var Zt={name:"LocalProfilePage",props:["local_id"],components:{LocalProfileHeader:Xt},data:function(){return{loading:!1,local:{}}},created:function(){this.fetchLocal(this.local_id)},methods:{fetchLocal:function(t){var e=this;this.loading=!0,p.a.get("http://localhost:3000/api/locals/id/".concat(t)).then((function(t){console.log(t.data[0]),e.loading=!1,e.local=t.data[0]}))}}},te=Zt,ee=Object(g["a"])(te,zt,Nt,!1,null,null,null),ae=ee.exports;o["a"].use(B["a"]);var oe=[{path:"/",name:"Home",component:ft},{path:"/locals/city/:city",name:"BrowseLocals",component:$t,props:!0},{path:"/become-a-local",name:"LocalsLandingPage",component:Rt},{path:"/local/edit/:local_id",name:"LocalProfileEdit",component:Wt,props:!0},{path:"/local/profile/:local_id",name:"LocalProfilePage",component:ae,props:!0}],ne=new B["a"]({mode:"history",base:"/",routes:oe}),re=ne,ie=(a("4160"),a("4fad"),a("159b"),{citySearched:"",lastSearchedLocals:[]}),se={citySearched:function(t){return t.citySearched},lastLoadedLocals:function(t){return t.lastSearchedLocals}},ce={fetchLocalPreviews:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.commit,a.next=3,p.a.get("http://localhost:3000/api/locals/previews/city/".concat(e)).then((function(t){var a=[];Object.entries(t.data).forEach((function(t){a.push(t[1])})),o("SET_LOCAL_PREVIEWS",{localPreviewsArray:a,city:e})})).catch((function(t){console.log(t)}));case 3:case"end":return a.stop()}}),a)})))()}},le={SET_LOCAL_PREVIEWS:function(t,e){t.citySearched=e.city,t.lastSearchedLocals=e.localPreviewsArray}},ue={state:ie,getters:se,actions:ce,mutations:le};o["a"].use(f["a"]);var de={state:{status:"",token:localStorage.getItem("token")||"",user:{}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}},actions:{login:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function a(){var o,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.commit,o("auth_request"),a.next=4,p.a.post("http://localhost:3000/api/user/login",e);case 4:return n=a.sent,r=n.data,e=n.data.user,localStorage.setItem("token",r),p.a.defaults.headers.common["Authorization"]=r,o("auth_success",r,e),a.abrupt("return",e);case 11:case"end":return a.stop()}}),a)})))()},register:function(t,e){return Object(d["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.commit,o("auth_request"),a.next=4,p.a.post("http://localhost:3000/api/user/register",e);case 4:n=a.sent,console.log(n);case 6:case"end":return a.stop()}}),a)})))()},logout:function(t){var e=t.commit;localStorage.removeItem("token"),delete p.a.defaults.headers.common["Authorization"],e("logout")}},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e,a){t.status="success",t.token=e,t.user=a},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",t.user={}}},modules:{}};o["a"].use(f["a"]);var fe=new f["a"].Store({modules:{local:de,auth:ue}}),me=a("f309");o["a"].use(me["a"]);var pe=new me["a"]({});a("4989"),a("ab8b");o["a"].config.productionTip=!1,o["a"].prototype.$http=p.a;var ve=localStorage.getItem("token");ve&&(o["a"].prototype.$http.defaults.headers.common["Authorization"]=ve);var he=new o["a"];new o["a"]({router:re,store:fe,vuetify:pe,render:function(t){return t(H)}}).$mount("#app")},"5e80":function(t,e,a){"use strict";var o=a("0c62"),n=a.n(o);n.a},6171:function(t,e,a){},"650b":function(t,e,a){"use strict";var o=a("890f"),n=a.n(o);n.a},"672f":function(t,e,a){},"6eef":function(t,e,a){"use strict";var o=a("4805"),n=a.n(o);n.a},"865c":function(t,e,a){},"890f":function(t,e,a){},"8a23":function(t,e,a){},"8d72":function(t,e,a){},bf30:function(t,e,a){"use strict";var o=a("f236"),n=a.n(o);n.a},cef2:function(t,e,a){},d6a0:function(t,e,a){"use strict";var o=a("8d72"),n=a.n(o);n.a},e13d:function(t,e,a){"use strict";var o=a("1ea0"),n=a.n(o);n.a},eb60:function(t,e,a){"use strict";var o=a("4c33"),n=a.n(o);n.a},f0ec:function(t,e,a){"use strict";var o=a("2ed9"),n=a.n(o);n.a},f236:function(t,e,a){},f9e9:function(t,e,a){"use strict";var o=a("cef2"),n=a.n(o);n.a}});
//# sourceMappingURL=app.a579cd0a.js.map